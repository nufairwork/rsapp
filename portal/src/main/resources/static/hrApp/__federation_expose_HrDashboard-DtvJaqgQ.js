import{importShared as k}from"./__federation_fn_import-Co714hKT.js";var g={exports:{}},i={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b;function R(){if(b)return i;b=1;var o=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function x(d,r,l){var s=null;if(l!==void 0&&(s=""+l),r.key!==void 0&&(s=""+r.key),"key"in r){l={};for(var a in r)a!=="key"&&(l[a]=r[a])}else l=r;return r=l.ref,{$$typeof:o,type:d,key:s,ref:r!==void 0?r:null,props:l}}return i.Fragment=u,i.jsx=x,i.jsxs=x,i}var j;function T(){return j||(j=1,g.exports=R()),g.exports}var e=T();const{useEffect:D,useState:c}=await k("react"),m="/portal/api/hr/employees",S=()=>{const[o,u]=c([]),[x,d]=c(!1),[r,l]=c(null),[s,a]=c({id:0,name:"",department:""}),[n,h]=c(null),p=()=>{d(!0),fetch(m).then(t=>{if(!t.ok)throw new Error(`HTTP error: ${t.status}`);return t.json()}).then(t=>{u(t),d(!1)}).catch(t=>{console.error(t),l("Failed to load employees"),d(!1)})};D(()=>{p()},[]);const v=t=>{t.preventDefault();const f=n?"PUT":"POST",E=n?`${m}/${n}`:m;fetch(E,{method:f,headers:{"Content-Type":"application/json"},body:JSON.stringify(n?s:{name:s.name,department:s.department})}).then(y=>{if(!y.ok)throw new Error("Error saving");return y.json()}).then(()=>{a({id:0,name:"",department:""}),h(null),p()}).catch(()=>alert("Error saving employee"))},N=t=>{h(t.id),a({id:t.id,name:t.name,department:t.department})},w=t=>{window.confirm("Delete this employee?")&&fetch(`${m}/${t}`,{method:"DELETE"}).then(f=>{if(!f.ok)throw new Error("Error Deleting");p()}).catch(()=>alert("Error deleting employees"))};return x?e.jsx("div",{className:"flex justify-center items-center w-full min-h-screen bg-blue-600",children:e.jsx("p",{className:"p-4 text-white font-bold text-2xl",children:"Loading..."})}):r?e.jsx("div",{className:"flex justify-center items-center w-full min-h-screen bg-red-600",children:e.jsx("p",{className:"p-4 text-whtie font-bold text-2xl",children:r})}):e.jsxs("div",{className:"max-w-[800px] m-auto mt-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-blue-500 text-center mb-12",children:"HR Dashboard"}),o.length===0&&e.jsx("p",{className:"text-3xl text-red-600 text-center",children:"No employees found"}),o.length>0&&e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mb-6",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Department"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),e.jsx("tbody",{children:o.map(t=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:t.name}),e.jsx("td",{className:"px-6 py-4",children:t.department}),e.jsxs("td",{className:"px-6 py-4 text-right space-x-3",children:[e.jsx("button",{onClick:()=>N(t),className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"}),e.jsx("button",{onClick:()=>w(t.id),className:"font-medium text-red-600 dark:text-red-500 hover:underline",children:"Delete"})]})]},t.id))})]})}),e.jsxs("div",{className:"flex flex-col justify-center items-center w-full gap-4 mt-10",children:[e.jsx("h3",{className:"text-2xl text-center font-semibold text-gray-800 mb-8",children:n?"Update Employee":"Add New Employee"}),e.jsxs("form",{onSubmit:v,className:"space-y-8 w-full",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:s.name,onChange:t=>a({...s,name:t.target.value}),required:!0,className:"mt-4 px-6 py-3 block w-full border-gray-300 rounded-2xl shadow-sm   text-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Department"}),e.jsx("input",{type:"text",value:s.department,onChange:t=>a({...s,department:t.target.value}),required:!0,className:"mt-4 block px-6 py-3  w-full border-gray-300 rounded-2xl shadow-sm   text-lg"})]}),e.jsxs("div",{className:"flex space-x-4 mt-14",children:[e.jsx("button",{type:"submit",className:"px-6 py-4 bg-blue-600 w-full text-white text-lg font-bold rounded-4xl hover:bg-blue-700",children:n?"Update":"Add"}),n&&e.jsx("button",{type:"button",onClick:()=>{h(null),a({id:0,name:"",department:""})},className:"px-6 py-4 w-full bg-gray-700 text-white text-lg font-bold rounded-4xl hover:bg-gray-700",children:"Cancel"})]})]})]})]})};export{S as default};
